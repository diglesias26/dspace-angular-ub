<ng-container *ngVar="(communitiesRD$ | async) as communitiesRD" class="home-page-top-level-community-list">
    <div *ngIf="communitiesRD?.hasSucceeded " class="row">
        <!--
        <pre>{{communitiesRD$ | async | json}}</pre>
        -->
        <!-- fora?
        <h2>
            {{'home.top-level-communities.head' | translate}}
        </h2>
        <p class="lead">{{'home.top-level-communities.help' | translate}}</p>
        -->

        <div *ngFor="let community of communitiesRD.payload.page" class="col-6 col-md-4 col-lg-3">
            <!--
            <pre>{{community | json}}</pre>
            -->
            <div class="card">
                <div class="card-body">
                    <a [href]="getCommunityLink(community)">
                        <div class="community-card">
                            <h2>{{getCommunityTitle(community)}}</h2>
                            <!-- <div class="community-description">{{getCommunityDescription(community)}}</div> -->
                            <div class="community-logo">
                                <img class="community-logo" [src]="getCommunityLogo(community)"/>
                            </div>
                        </div>
                    </a>
                </div>
            </div>
        </div>


        <!--
        <ds-viewable-collection
        [config]="config"
        [sortConfig]="sortConfig"
        [objects]="communitiesRD$ | async"
        [hideGear]="true">
        </ds-viewable-collection>
        -->
        <!--
        <div class="row">
            <div ng-for="community of communitiesRD$ | async" class="col-12">
                <pre>{{community$ | async | json}}</pre>
                <div class="card">
                    <div class="card-body">
                    -->
                        <!--
                        <h5 class="card-title">{{community?.getFirstMetadataValue('dc.title')}}</h5>
                    -->
        <!--
                    </div>
                </div>
            </div>
        </div>
        -->
    </div>
    <ds-error *ngIf="communitiesRD?.hasFailed " message="{{'error.top-level-communities' | translate}}"></ds-error>
    <ds-loading *ngIf="communitiesRD?.isLoading " message="{{'loading.top-level-communities' | translate}}"></ds-loading>


    <!--
    <div class="row">
        <div ng-for="community of communitiesRD$ | async" class="col-12">
            <div class="card">
                <div class="card-body">
                    <h5 class="card-title">{{community.title}}</h5>
                </div>
            </div>
        </div>
    </div>
    -->
</ng-container>
